"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[984],{88001:function($,P,d){d.d(P,{DI:function(){return p},aH:function(){return k},pk:function(){return l},xf:function(){return B}});var k=[{key:"gpt-4o-mini",label:"GPT-4o mini"},{key:"chatgpt-4o-latest",label:"GPT-4o"},{key:"gpt-4",label:"GPT-4"},{key:"gpt-3.5-turbo-0125",label:"GPT-3.5 Turbo"}],l="gpt-4o-mini",B=10,p=3},41467:function($,P,d){d.d(P,{db:function(){return I}});var k=d(15009),l=d.n(k),B=d(99289),p=d.n(B),C=d(97857),g=d.n(C),M=d(12444),A=d.n(M),O=d(72004),S=d.n(O),T=d(9783),b=d.n(T),j=function(){function h(u){A()(this,h),b()(this,"db",null),b()(this,"dbName",void 0),b()(this,"version",void 0),b()(this,"stores",void 0),b()(this,"_initPromise",void 0),this.dbName=u.dbName,this.version=u.version,this.stores=u.stores,this._initPromise=this.initDB()}return S()(h,[{key:"initDB",value:function(){var o=this;return new Promise(function(e,t){var n=indexedDB.open(o.dbName,o.version);n.onupgradeneeded=function(){var i=n.result;o.stores.forEach(function(s){if(!i.objectStoreNames.contains(s.name)){var r,c=i.createObjectStore(s.name,g()({keyPath:s.keyPath,autoIncrement:s.autoIncrement},s.options));(r=s.indexes)===null||r===void 0||r.forEach(function(a){c.createIndex(a.name,a.keyPath,a.options)})}})},n.onsuccess=function(){o.db=n.result,e()},n.onerror=function(i){console.error("Database error:",i.target.error),t(i.target.error)}})}},{key:"waitForDb",value:function(){return this._initPromise}},{key:"addData",value:function(){var u=p()(l()().mark(function e(t,n){var i,s,r;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.waitForDb();case 2:return i=this.db.transaction(t,"readwrite"),s=i.objectStore(t),r=s.add(n),a.abrupt("return",new Promise(function(m,_){r.onsuccess=function(){m(r.result)},r.onerror=function(){_(r.error)}}));case 6:case"end":return a.stop()}},e,this)}));function o(e,t){return u.apply(this,arguments)}return o}()},{key:"getData",value:function(){var u=p()(l()().mark(function e(t,n){var i,s,r;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.waitForDb();case 2:return i=this.db.transaction(t,"readonly"),s=i.objectStore(t),r=s.get(n),a.abrupt("return",new Promise(function(m,_){r.onsuccess=function(){var f;m((f=r.result)!==null&&f!==void 0?f:null)},r.onerror=function(){_(r.error)}}));case 6:case"end":return a.stop()}},e,this)}));function o(e,t){return u.apply(this,arguments)}return o}()},{key:"importData",value:function(){var u=p()(l()().mark(function e(t){var n,i,s,r,c,a,m,_;return l()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,this.waitForDb();case 2:n=0;case 3:if(!(n<t.length)){v.next=17;break}i=t[n],s=i.storeName,r=i.data,c=this.db.transaction(s,"readwrite"),a=c.objectStore(s),m=l()().mark(function y(){var w;return l()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return w=a.add(r[_]),E.next=3,new Promise(function(K,L){w.onsuccess=function(){K(!0)},w.onerror=function(){L(w.error)}});case 3:case"end":return E.stop()}},y)}),_=0;case 9:if(!(_<r.length)){v.next=14;break}return v.delegateYield(m(),"t0",11);case 11:_++,v.next=9;break;case 14:n++,v.next=3;break;case 17:case"end":return v.stop()}},e,this)}));function o(e){return u.apply(this,arguments)}return o}()},{key:"exportData",value:function(){var u=p()(l()().mark(function e(){var t,n,i;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=[],r.next=3,this.waitForDb();case 3:n=0;case 4:if(!(n<this.stores.length)){r.next=16;break}return i=this.stores[n],r.t0=t,r.t1=i.name,r.next=10,this.getAllData(i.name);case 10:r.t2=r.sent,r.t3={storeName:r.t1,data:r.t2},r.t0.push.call(r.t0,r.t3);case 13:n++,r.next=4;break;case 16:return r.abrupt("return",t);case 17:case"end":return r.stop()}},e,this)}));function o(){return u.apply(this,arguments)}return o}()},{key:"getAllData",value:function(){var u=p()(l()().mark(function e(t){var n,i,s;return l()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.waitForDb();case 2:return n=this.db.transaction(t,"readonly"),i=n.objectStore(t),s=i.getAll(),c.abrupt("return",new Promise(function(a,m){s.onsuccess=function(){a(s.result)},s.onerror=function(){m(s.error)}}));case 6:case"end":return c.stop()}},e,this)}));function o(e){return u.apply(this,arguments)}return o}()},{key:"getDataByIndex",value:function(){var u=p()(l()().mark(function e(t,n,i){var s,r,c,a;return l()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this.waitForDb();case 2:return s=this.db.transaction(t,"readonly"),r=s.objectStore(t),c=r.index(n),a=c.get(i),_.abrupt("return",new Promise(function(f,v){a.onsuccess=function(){var y;f((y=a.result)!==null&&y!==void 0?y:null)},a.onerror=function(){v(a.error)}}));case 7:case"end":return _.stop()}},e,this)}));function o(e,t,n){return u.apply(this,arguments)}return o}()},{key:"getAllDataByIndex",value:function(){var u=p()(l()().mark(function e(t,n,i){var s,r,c,a,m;return l()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this.waitForDb();case 2:return s=this.db.transaction(t,"readonly"),r=s.objectStore(t),c=r.index(n),a=c.openCursor(IDBKeyRange.only(i)),m=[],f.abrupt("return",new Promise(function(v,y){a.onsuccess=function(){var w=a.result;w?(m.push(w.value),w.continue()):v(m)},a.onerror=function(){y(a.error)}}));case 8:case"end":return f.stop()}},e,this)}));function o(e,t,n){return u.apply(this,arguments)}return o}()},{key:"updateData",value:function(){var u=p()(l()().mark(function e(t,n){var i,s,r;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.waitForDb();case 2:return i=this.db.transaction(t,"readwrite"),s=i.objectStore(t),r=s.put(n),a.abrupt("return",new Promise(function(m,_){r.onsuccess=function(){m()},r.onerror=function(){_(r.error)}}));case 6:case"end":return a.stop()}},e,this)}));function o(e,t){return u.apply(this,arguments)}return o}()},{key:"deleteData",value:function(){var u=p()(l()().mark(function e(t,n){var i,s,r;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.waitForDb();case 2:return i=this.db.transaction(t,"readwrite"),s=i.objectStore(t),r=s.delete(n),a.abrupt("return",new Promise(function(m,_){r.onsuccess=function(){m()},r.onerror=function(){_(r.error)}}));case 6:case"end":return a.stop()}},e,this)}));function o(e,t){return u.apply(this,arguments)}return o}()},{key:"deleteDataByIndex",value:function(){var u=p()(l()().mark(function e(t,n,i){var s,r,c,a;return l()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this.waitForDb();case 2:return s=this.db.transaction(t,"readwrite"),r=s.objectStore(t),c=r.index(n),a=c.openCursor(IDBKeyRange.only(i)),_.abrupt("return",new Promise(function(f,v){a.onsuccess=function(){var y=a.result;y?(y.delete(),y.continue()):f()},a.onerror=function(){v(a.error)}}));case 7:case"end":return _.stop()}},e,this)}));function o(e,t,n){return u.apply(this,arguments)}return o}()}]),h}(),D=j,R={dbName:"GptPlayground",version:4,stores:[{name:"Chats",keyPath:"id",options:{autoIncrement:!1}},{name:"Messages",keyPath:"id",options:{autoIncrement:!0},indexes:[{name:"chatId",keyPath:"chatId"}]},{name:"Bots",keyPath:"id",options:{autoIncrement:!0}},{name:"BotHistories",keyPath:"id",options:{autoIncrement:!0},indexes:[{name:"botId",keyPath:"botId"}]}]},I=new D(R)},67984:function($,P,d){var k=d(15009),l=d.n(k),B=d(97857),p=d.n(B),C=d(99289),g=d.n(C),M=d(12444),A=d.n(M),O=d(72004),S=d.n(O),T=d(9783),b=d.n(T),j=d(88001),D=d(41467),R=function(){function I(h){A()(this,I),b()(this,"id",void 0),b()(this,"title",void 0),b()(this,"createdAt",void 0),b()(this,"systemPrompt",void 0),b()(this,"model",void 0),b()(this,"frequency_penalty",void 0),b()(this,"presence_penalty",void 0),b()(this,"max_tokens",void 0),b()(this,"temperature",void 0),b()(this,"top_p",void 0),b()(this,"stop",void 0),h?this.id=parseInt(h):(this.title="",this.createdAt=new Date,this.systemPrompt="",this.model=j.pk,this.frequency_penalty=0,this.presence_penalty=0,this.temperature=1,this.top_p=1,this.stop=[])}return S()(I,[{key:"setId",value:function(u){this.id=parseInt(u)}},{key:"create",value:function(){var h=g()(l()().mark(function o(e){var t,n;return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,D.db.addData("Bots",e);case 2:return t=s.sent,this.id=t,n=p()(p()({},e),{},{botId:this.id,updateAt:new Date}),s.next=7,D.db.addData("BotHistories",n);case 7:return s.next=9,this.get();case 9:return s.abrupt("return",s.sent);case 10:case"end":return s.stop()}},o,this)}));function u(o){return h.apply(this,arguments)}return u}()},{key:"update",value:function(){var h=g()(l()().mark(function o(e){var t;return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.id){i.next=2;break}throw new Error("Bot id is required");case 2:return i.next=4,D.db.updateData("Bots",p()(p()({},e),{},{id:this.id}));case 4:return t=p()(p()({},e),{},{botId:this.id,updateAt:new Date}),i.next=7,D.db.addData("BotHistories",t);case 7:return i.next=9,this.get();case 9:return i.abrupt("return",i.sent);case 10:case"end":return i.stop()}},o,this)}));function u(o){return h.apply(this,arguments)}return u}()},{key:"delete",value:function(){var h=g()(l()().mark(function o(){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.id){t.next=2;break}throw new Error("Bot id is required");case 2:return t.next=4,D.db.deleteData("Bots",this.id);case 4:return t.next=6,D.db.deleteDataByIndex("BotHistories","botId",this.id);case 6:case"end":return t.stop()}},o,this)}));function u(){return h.apply(this,arguments)}return u}()},{key:"get",value:function(){var h=g()(l()().mark(function o(){var e;return l()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.id){n.next=2;break}throw new Error("Bot id is required");case 2:return n.next=4,D.db.getData("Bots",this.id);case 4:return e=n.sent,this.title=(e==null?void 0:e.title)||"",this.createdAt=(e==null?void 0:e.createdAt)||new Date,this.systemPrompt=(e==null?void 0:e.systemPrompt)||"",this.model=(e==null?void 0:e.model)||j.pk,this.frequency_penalty=(e==null?void 0:e.frequency_penalty)||0,this.presence_penalty=(e==null?void 0:e.presence_penalty)||0,this.temperature=(e==null?void 0:e.temperature)||1,this.top_p=(e==null?void 0:e.top_p)||1,this.stop=(e==null?void 0:e.stop)||[],n.abrupt("return",e);case 15:case"end":return n.stop()}},o,this)}));function u(){return h.apply(this,arguments)}return u}()},{key:"getHistory",value:function(){var h=g()(l()().mark(function o(e){return l()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D.db.getDataByIndex("BotHistories","botId",e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},o)}));function u(o){return h.apply(this,arguments)}return u}()}],[{key:"getAll",value:function(){var h=g()(l()().mark(function o(){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.db.getAllData("Bots");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},o)}));function u(){return h.apply(this,arguments)}return u}()}]),I}();P.Z=R}}]);
